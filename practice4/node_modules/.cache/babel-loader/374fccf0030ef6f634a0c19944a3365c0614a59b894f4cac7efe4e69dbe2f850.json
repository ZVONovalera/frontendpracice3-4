{"ast":null,"code":"var _jsxFileName = \"C:\\\\practice3-4\\\\practice4\\\\src\\\\components\\\\GoodsModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GoodsModal({\n  open,\n  mode,\n  initialItem,\n  onClose,\n  onSubmit\n}) {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  useEffect(() => {\n    var _initialItem$name;\n    if (!open) return;\n    setName((_initialItem$name = initialItem === null || initialItem === void 0 ? void 0 : initialItem.name) !== null && _initialItem$name !== void 0 ? _initialItem$name : \"\");\n    setPrice((initialItem === null || initialItem === void 0 ? void 0 : initialItem.price) != null ? String(initialItem.price) : \"\");\n  }, [open, initialItem]);\n  if (!open) return null;\n  const title = mode === \"edit\" ? \"Редактирование товара\" : \"Создание товара\";\n  const handleSubmit = e => {\n    e.preventDefault();\n    const trimmed = name.trim();\n    const parsedPrice = Number(price);\n    if (!trimmed) {\n      alert(\"Введите название\");\n      return;\n    }\n    if (!Number.isFinite(parsedPrice) || parsedPrice < 0 || parsedPrice > 9999999) {\n      alert(\"Введите корректный ценник (0–9999999)\");\n      return;\n    }\n    onSubmit({\n      id: initialItem === null || initialItem === void 0 ? void 0 : initialItem.id,\n      name: trimmed,\n      price: parsedPrice\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"backdrop\",\n    onMouseDown: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      onMouseDown: e => e.stopPropagation(),\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal__header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal__title\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"iconBtn\",\n          onClick: onClose,\n          \"aria-label\": \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: [\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            placeholder: \"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440, \\u0433\\u0432\\u043E\\u0437\\u0434\\u044C\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: [\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            value: price,\n            onChange: e => setPrice(e.target.value),\n            placeholder: \"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440, 100\",\n            inputMode: \"numeric\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal__footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn\",\n            onClick: onClose,\n            children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn--primary\",\n            children: mode === \"edit\" ? \"Сохранить\" : \"Создать\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(GoodsModal, \"jqjx8f3Ix6NM6xYzLN12ajRzG+4=\");\n_c = GoodsModal;\nvar _c;\n$RefreshReg$(_c, \"GoodsModal\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","GoodsModal","open","mode","initialItem","onClose","onSubmit","_s","name","setName","price","setPrice","_initialItem$name","String","title","handleSubmit","e","preventDefault","trimmed","trim","parsedPrice","Number","alert","isFinite","id","className","onMouseDown","children","stopPropagation","role","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","target","placeholder","autoFocus","inputMode","type","_c","$RefreshReg$"],"sources":["C:/practice3-4/practice4/src/components/GoodsModal.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nexport default function GoodsModal({\r\n  open,\r\n  mode,\r\n  initialItem,\r\n  onClose,\r\n  onSubmit,\r\n}) {\r\n  const [name, setName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    setName(initialItem?.name ?? \"\");\r\n    setPrice(initialItem?.price != null ? String(initialItem.price) : \"\");\r\n  }, [open, initialItem]);\r\n  if (!open) return null;\r\n  const title =\r\n    mode === \"edit\" ? \"Редактирование товара\" : \"Создание товара\";\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const trimmed = name.trim();\r\n    const parsedPrice = Number(price);\r\n    if (!trimmed) {\r\n      alert(\"Введите название\");\r\n      return;\r\n    }\r\n    if (!Number.isFinite(parsedPrice) || parsedPrice < 0 || parsedPrice > 9999999) {\r\n      alert(\"Введите корректный ценник (0–9999999)\");\r\n      return;\r\n    }\r\n    onSubmit({\r\n      id: initialItem?.id,\r\n      name: trimmed,\r\n      price: parsedPrice,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"backdrop\" onMouseDown={onClose}>\r\n      <div\r\n        className=\"modal\"\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n      >\r\n        <div className=\"modal__header\">\r\n          <div className=\"modal__title\">{title}</div>\r\n          <button className=\"iconBtn\" onClick={onClose} aria-label=\"Закрыть\">\r\n            ✕\r\n          </button>\r\n        </div>\r\n        <form className=\"form\" onSubmit={handleSubmit}>\r\n          <label className=\"label\">\r\n            Название\r\n            <input\r\n              className=\"input\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              placeholder=\"Например, гвоздь\"\r\n              autoFocus\r\n            />\r\n          </label>\r\n          <label className=\"label\">\r\n            Стоимость\r\n            <input\r\n              className=\"input\"\r\n              value={price}\r\n              onChange={(e) => setPrice(e.target.value)}\r\n              placeholder=\"Например, 100\"\r\n              inputMode=\"numeric\"\r\n            />\r\n          </label>\r\n          <div className=\"modal__footer\">\r\n            <button type=\"button\" className=\"btn\" onClick={onClose}>\r\n              Отмена\r\n            </button>\r\n            <button type=\"submit\" className=\"btn btn--primary\">\r\n              {mode === \"edit\" ? \"Сохранить\" : \"Создать\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}